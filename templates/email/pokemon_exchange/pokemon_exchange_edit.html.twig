{% extends 'mail_base.html.twig' %}

{% block title %}{{title}}{% endblock %}

{% block body %}
    <h3>Hello {{username}},</h3>

    <p>A pokemon exchange has been modified:</p>
    <br/>
    <table class="row table">
        <thead>
            <tr>
                <th>Status</th>
                <td class="text-center text-status">{{ex.status}}</td>
            </tr>
            <tr>
                <th>
                    {%- if ex.updatedAt is not null -%}
                        Updated
                    {%- else -%}
                        Created
                    {%- endif -%}
                </th>
                <td class="text-center">
                    {%- if ex.updatedAt is not null -%}
                        {{ ex.updatedAt|date('Y/m/d \\a\\t H:i') }}
                    {%- else -%}
                        {{ ex.createdAt|date('Y/m/d \\a\\t H:i:s') }}
                    {%- endif -%}
                </td>
            <tr>
            <tr class="blank_row">
                <td colspan="2"></td>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th>Offerer</th>
                <td class="text-center text-trainer">{{ ex.trainer1.username }}</td>
            </tr>
            <tr>
                <th>Proposed</th>
                <td class="text-center text-pokemon">{{ ex.pokemon1.name }} (level: {{ ex.pokemon1.level }})</td>
            </tr>
            <tr>
                <th>Response</th>
                <td colspan="2" class="text-center text-answer">
                    {% if ex.answer1 is not same as('None') %}{{ ex.answer1 }}{% else %}-{% endif %}
                </td>
            </tr>
            <tr class="blank_row">
                <td colspan="2"></td>
            </tr>
            <tr>
                <th>Recipient</th>
                <td class="text-center text-trainer">{{ ex.trainer2.username }}</td>
            </tr>
            <tr>
                <th>Requested</th>
                <td class="text-center text-pokemon">{{ ex.pokemon2.name }} (level: {{ ex.pokemon2.level }})</td>
            </tr>
            <tr>
                <th>Response</th>
                <td colspan="2" class="text-center text-answer">
                    {% if ex.answer2 is not same as('None') %}{{ ex.answer2 }}{% else %}-{% endif %}
                </td>
            </tr>
        </tbody>
    </table>
    <br>
    <p>Click <a href="{{ url('app_login') }}">here</a> to connect to your account.</p>
{% endblock %}